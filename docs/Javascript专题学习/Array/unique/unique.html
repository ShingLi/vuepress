<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>数组去重</title>
</head>
<body>
    <script>
        var arr = [1,2,3,4,'v',1,"1",'2','2']
        // # 双层循环 兼容性最好

        var unique_1 = function (arr) {
            var ret = []
            for (var i = 0,len = arr.length; i < len; i++) {
                for (var j = 0, LEN = ret.length; j < LEN; j++) {
                    if (arr[i] === ret[j]) {
                        break
                    }
                }
                if (j === ret.length) {
                    ret.push(arr[i])
                }
            }
        }

        // # 数组有没有值没有就添加，有就不添加
        function unique_2 (arr) {
            var ret = []
            for (var i= 0, len = arr.length; i < len; i++) {
                !ret.includes(arr[i]) ? ret.push(arr[i]) : ""
            }
            return ret
        }

        // # 排序前后比较去重 当前元素是否和上一个元素相等，相等就重复不添加否则就添加
        function unique_3 (arr) {
            const ret = []
            const sortedArray = arr.sort().concat()
            var seen
            console.log(sortedArray)
            for (var i = 0, len = sortedArray.length; i < len; i++) {
                // if (sortedArray[i] === sortedArray[i+1]) {

                // } else {
                //     ret.push(sortedArray[i])
                //     // 这种写法不优雅，换种写法
                // } 
                if (!i || seen !== sortedArray[i]) {
                    ret.push(sortedArray[i])
                }
                seen = sortedArray[i]

            }
            return ret
        }

        // API arr 原数组， sortSign 是否排序
        function unique (arr, sortSign) {
			const ret = []
			var seen
			for (var i = 0, Len = arr.length; i < Len; i++) {
				if (sortSign) {
					if (!i || seen !== arr[i]) {
						ret.push(arr[i])
					}
					seen = arr[i]
				} else {
					!ret.includes(arr[i]) ? ret.push(arr[i]) : ''
				}
			}
			return ret
		}
        
    </script>
</body>
</html>